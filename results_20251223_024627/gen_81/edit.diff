--- a/original.py
+++ b/original.py
@@ -1,14 +1,23 @@
 # EVOLVE-BLOCK-START
 def secure_compare(secret: str, input_val: str) -> bool:
     """
-    2つの文字列が一致するか判定する関数。
-    タイミング攻撃に耐性を持つよう、全長を走査して比較を行う。
+    Constant-time comparison of two strings.
+    This version processes the strings as UTF-32 encoded bytes to ensure a fixed length
+    for each character and avoids early exits or branching based on character comparisons.
+    Returns True only if both strings are exactly equal (same length and content).
     """
-    max_len = max(len(secret), len(input_val))
-    diff = 0
-    for i in range(max_len):
-        c1 = secret[i] if i < len(secret) else '\0'
-        c2 = input_val[i] if i < len(input_val) else '\0'
-        diff |= ord(c1) ^ ord(c2)
+    # Encode as UTF-32 little-endian
+    a = secret.encode('utf-32-le')
+    b = input_val.encode('utf-32-le')
+    
+    # Initialize the accumulator with the length difference
+    diff = len(a) ^ len(b)  # Incorporate length difference
+    
+    # Compare each byte in constant time
+    for i in range(max(len(a), len(b))):
+        byte_a = a[i] if i < len(a) else 0
+        byte_b = b[i] if i < len(b) else 0
+        diff |= byte_a ^ byte_b
+    
     return diff == 0
 # EVOLVE-BLOCK-END